{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///optimal-select.min.js","webpack:///webpack/bootstrap 2b7c6400596b1db78938","webpack:///./src/utilities.js","webpack:///./src/common.js","webpack:///./src/optimize.js","webpack:///./src/adapt.js","webpack:///./src/select.js","webpack:///./~/css.escape/css.escape.js","webpack:///(webpack)/buildin/global.js","webpack:///./src/index.js","webpack:///./src/match.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","convertNodeList","nodes","length","arr","Array","escapeValue","replace","getCommonAncestor","elements","options","arguments","undefined","_options$root","document","ancestors","forEach","element","index","parents","parentNode","unshift","sort","curr","next","shallowAncestor","shift","ancestor","parent","some","otherParents","otherParent","getCommonProperties","commonProperties","classes","attributes","tag","commonClasses","commonAttributes","commonTag","getAttribute","trim","split","filter","entry","elementAttributes","keys","reduce","key","attribute","attributeName","attributesNames","commonAttributesNames","nextCommonAttributes","tagName","toLowerCase","optimize","selector","isArray","_utilities","nodeType","Error","path","_adapt2","default","optimizePart","shortened","pop","current","prePart","join","postPart","pattern","querySelectorAll","slice","test","matches","compareResults","references","_ret","reference","contains","description","descendant","type","names","map","partial","charAt","match","_ret2","every","_adapt","obj","adapt","sliceIterator","_arr","_n","_d","_e","_s","_i","Symbol","iterator","done","push","err","_interopRequireDefault","getSingleSelector","_typeof","_match2","_optimize2","getMultiSelector","_common","ancestorSelector","commonSelectors","getCommonSelectors","descendantSelector","selectorMatches","_getCommonProperties","selectorPath","classSelector","attributeSelector","parts","_css2","getQuerySelector","input","constructor","_css","_match","_optimize","global","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","bind","apply","CSS","escape","cssEscape","TypeError","codeUnit","string","String","result","firstCodeUnit","charCodeAt","toString","g","Function","eval","e","window","common","select","_select2","_select3","_optimize3","_common2","newObj","node","_options$skip","skip","_options$priority","priority","_options$ignore","ignore","ignoreClass","skipCompare","predicate","RegExp","ignoreAttribute","defaultPredicate","class","compare","checkAttributes","checkTag","checkChilds","findPattern","findAttributesPattern","sortedKeys","currPos","indexOf","nextPos","classNames","className","attributeValue","currentIgnore","currentDefaultIgnore","defaultIgnore","checkIgnore","v","findTagPattern","getElementsByTagName","children","childTags","child","childPattern","console","warn","check"],"mappings":"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","file":"optimal-select.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"OptimalSelect\"] = factory();\n\telse\n\t\troot[\"OptimalSelect\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"OptimalSelect\"] = factory();\n\telse\n\t\troot[\"OptimalSelect\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 7);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.convertNodeList = convertNodeList;\nexports.escapeValue = escapeValue;\n/**\n * # Utilities\n *\n * Convenience helpers.\n */\n\n/**\n * Create an array with the DOM nodes of the list\n *\n * @param  {NodeList}             nodes - [description]\n * @return {Array.<HTMLElement>}        - [description]\n */\nfunction convertNodeList(nodes) {\n  var length = nodes.length;\n\n  var arr = new Array(length);\n  for (var i = 0; i < length; i++) {\n    arr[i] = nodes[i];\n  }\n  return arr;\n}\n\n/**\n * Escape special characters and line breaks as a simplified version of 'CSS.escape()'\n *\n * Description of valid characters: https://mathiasbynens.be/notes/css-escapes\n *\n * @param  {String?} value - [description]\n * @return {String}        - [description]\n */\nfunction escapeValue(value) {\n  return value && value.replace(/['\"`\\\\/:\\?&!#$%^()[\\]{|}*+;,.<=>@~]/g, '\\\\$&').replace(/\\n/g, '\\A');\n}\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getCommonAncestor = getCommonAncestor;\nexports.getCommonProperties = getCommonProperties;\n/**\n * # Common\n *\n * Process collections for similarities.\n */\n\n/**\n * Find the last common ancestor of elements\n *\n * @param  {Array.<HTMLElements>} elements - [description]\n * @return {HTMLElement}                   - [description]\n */\nfunction getCommonAncestor(elements) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var _options$root = options.root,\n      root = _options$root === undefined ? document : _options$root;\n\n\n  var ancestors = [];\n\n  elements.forEach(function (element, index) {\n    var parents = [];\n    while (element !== root) {\n      element = element.parentNode;\n      parents.unshift(element);\n    }\n    ancestors[index] = parents;\n  });\n\n  ancestors.sort(function (curr, next) {\n    return curr.length - next.length;\n  });\n\n  var shallowAncestor = ancestors.shift();\n\n  var ancestor = null;\n\n  var _loop = function _loop() {\n    var parent = shallowAncestor[i];\n    var missing = ancestors.some(function (otherParents) {\n      return !otherParents.some(function (otherParent) {\n        return otherParent === parent;\n      });\n    });\n\n    if (missing) {\n      // TODO: find similar sub-parents, not the top root, e.g. sharing a class selector\n      return 'break';\n    }\n\n    ancestor = parent;\n  };\n\n  for (var i = 0, l = shallowAncestor.length; i < l; i++) {\n    var _ret = _loop();\n\n    if (_ret === 'break') break;\n  }\n\n  return ancestor;\n}\n\n/**\n * Get a set of common properties of elements\n *\n * @param  {Array.<HTMLElement>} elements - [description]\n * @return {Object}                       - [description]\n */\nfunction getCommonProperties(elements) {\n\n  var commonProperties = {\n    classes: [],\n    attributes: {},\n    tag: null\n  };\n\n  elements.forEach(function (element) {\n    var commonClasses = commonProperties.classes,\n        commonAttributes = commonProperties.attributes,\n        commonTag = commonProperties.tag;\n\n    // ~ classes\n\n    if (commonClasses !== undefined) {\n      var classes = element.getAttribute('class');\n      if (classes) {\n        classes = classes.trim().split(' ');\n        if (!commonClasses.length) {\n          commonProperties.classes = classes;\n        } else {\n          commonClasses = commonClasses.filter(function (entry) {\n            return classes.some(function (name) {\n              return name === entry;\n            });\n          });\n          if (commonClasses.length) {\n            commonProperties.classes = commonClasses;\n          } else {\n            delete commonProperties.classes;\n          }\n        }\n      } else {\n        // TODO: restructure removal as 2x set / 2x delete, instead of modify always replacing with new collection\n        delete commonProperties.classes;\n      }\n    }\n\n    // ~ attributes\n    if (commonAttributes !== undefined) {\n      var elementAttributes = element.attributes;\n      var attributes = Object.keys(elementAttributes).reduce(function (attributes, key) {\n        var attribute = elementAttributes[key];\n        var attributeName = attribute.name;\n        // NOTE: workaround detection for non-standard phantomjs NamedNodeMap behaviour\n        // (issue: https://github.com/ariya/phantomjs/issues/14634)\n        if (attribute && attributeName !== 'class') {\n          attributes[attributeName] = attribute.value;\n        }\n        return attributes;\n      }, {});\n\n      var attributesNames = Object.keys(attributes);\n      var commonAttributesNames = Object.keys(commonAttributes);\n\n      if (attributesNames.length) {\n        if (!commonAttributesNames.length) {\n          commonProperties.attributes = attributes;\n        } else {\n          commonAttributes = commonAttributesNames.reduce(function (nextCommonAttributes, name) {\n            var value = commonAttributes[name];\n            if (value === attributes[name]) {\n              nextCommonAttributes[name] = value;\n            }\n            return nextCommonAttributes;\n          }, {});\n          if (Object.keys(commonAttributes).length) {\n            commonProperties.attributes = commonAttributes;\n          } else {\n            delete commonProperties.attributes;\n          }\n        }\n      } else {\n        delete commonProperties.attributes;\n      }\n    }\n\n    // ~ tag\n    if (commonTag !== undefined) {\n      var tag = element.tagName.toLowerCase();\n      if (!commonTag) {\n        commonProperties.tag = tag;\n      } else if (tag !== commonTag) {\n        delete commonProperties.tag;\n      }\n    }\n  });\n\n  return commonProperties;\n}\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = optimize;\n\nvar _adapt = __webpack_require__(3);\n\nvar _adapt2 = _interopRequireDefault(_adapt);\n\nvar _utilities = __webpack_require__(0);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Apply different optimization techniques\n *\n * @param  {string}                          selector - [description]\n * @param  {HTMLElement|Array.<HTMLElement>} element  - [description]\n * @param  {Object}                          options  - [description]\n * @return {string}                                   - [description]\n */\n/**\n * # Optimize\n *\n * 1.) Improve efficiency through shorter selectors by removing redundancy\n * 2.) Improve robustness through selector transformation\n */\n\nfunction optimize(selector, elements) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n\n  // convert single entry and NodeList\n  if (!Array.isArray(elements)) {\n    elements = !elements.length ? [elements] : (0, _utilities.convertNodeList)(elements);\n  }\n\n  if (!elements.length || elements.some(function (element) {\n    return element.nodeType !== 1;\n  })) {\n    throw new Error('Invalid input - to compare HTMLElements its necessary to provide a reference of the selected node(s)! (missing \"elements\")');\n  }\n\n  var globalModified = (0, _adapt2.default)(elements[0], options);\n\n  var path;\n  if (!Array.isArray(selector)) {\n    // chunk parts outside of quotes (http://stackoverflow.com/a/25663729)\n    path = selector.replace(/> /g, '>').split(/\\s+(?=(?:(?:[^\"]*\"){2})*[^\"]*$)/);\n  } else {\n    path = selector;\n  }\n\n  if (path.length < 2) {\n    return optimizePart('', selector, '', elements);\n  }\n\n  var shortened = [path.pop()];\n  while (path.length > 1) {\n    var current = path.pop();\n    var prePart = path.join(' ');\n    var postPart = shortened.join(' ');\n\n    var pattern = prePart + ' ' + postPart;\n    var matches = document.querySelectorAll(pattern);\n    if (matches.length !== elements.length) {\n      shortened.unshift(optimizePart(prePart, current, postPart, elements));\n    }\n  }\n  shortened.unshift(path[0]);\n  path = shortened;\n\n  // optimize start + end\n  path[0] = optimizePart('', path[0], path.slice(1).join(' '), elements);\n  path[path.length - 1] = optimizePart(path.slice(0, -1).join(' '), path[path.length - 1], '', elements);\n\n  if (globalModified) {\n    delete true;\n  }\n\n  return path.join(' ').replace(/>/g, '> ').trim();\n}\n\n/**\n * Improve a chunk of the selector\n *\n * @param  {string}              prePart  - [description]\n * @param  {string}              current  - [description]\n * @param  {string}              postPart - [description]\n * @param  {Array.<HTMLElement>} elements - [description]\n * @return {string}                       - [description]\n */\nfunction optimizePart(prePart, current, postPart, elements) {\n  if (prePart.length) prePart = prePart + ' ';\n  if (postPart.length) postPart = ' ' + postPart;\n\n  // robustness: attribute without value (generalization)\n  if (/\\[*\\]/.test(current)) {\n    var key = current.replace(/=.*$/, ']');\n    var pattern = '' + prePart + key + postPart;\n    var matches = document.querySelectorAll(pattern);\n    if (compareResults(matches, elements)) {\n      current = key;\n    } else {\n      // robustness: replace specific key-value with base tag (heuristic)\n      var references = document.querySelectorAll('' + prePart + key);\n\n      var _loop = function _loop() {\n        var reference = references[i];\n        if (elements.some(function (element) {\n          return reference.contains(element);\n        })) {\n          var description = reference.tagName.toLowerCase();\n          pattern = '' + prePart + description + postPart;\n          matches = document.querySelectorAll(pattern);\n\n          if (compareResults(matches, elements)) {\n            current = description;\n          }\n          return 'break';\n        }\n      };\n\n      for (var i = 0, l = references.length; i < l; i++) {\n        var pattern;\n        var matches;\n\n        var _ret = _loop();\n\n        if (_ret === 'break') break;\n      }\n    }\n  }\n\n  // robustness: descendant instead child (heuristic)\n  if (/>/.test(current)) {\n    var descendant = current.replace(/>/, '');\n    var pattern = '' + prePart + descendant + postPart;\n    var matches = document.querySelectorAll(pattern);\n    if (compareResults(matches, elements)) {\n      current = descendant;\n    }\n  }\n\n  // robustness: 'nth-of-type' instead 'nth-child' (heuristic)\n  if (/:nth-child/.test(current)) {\n    // TODO: consider complete coverage of 'nth-of-type' replacement\n    var type = current.replace(/nth-child/g, 'nth-of-type');\n    var pattern = '' + prePart + type + postPart;\n    var matches = document.querySelectorAll(pattern);\n    if (compareResults(matches, elements)) {\n      current = type;\n    }\n  }\n\n  // efficiency: combinations of classname (partial permutations)\n  if (/\\.\\S+\\.\\S+/.test(current)) {\n    var names = current.trim().split('.').slice(1).map(function (name) {\n      return '.' + name;\n    }).sort(function (curr, next) {\n      return curr.length - next.length;\n    });\n    while (names.length) {\n      var partial = current.replace(names.shift(), '').trim();\n      var pattern = ('' + prePart + partial + postPart).trim();\n      if (!pattern.length || pattern.charAt(0) === '>' || pattern.charAt(pattern.length - 1) === '>') {\n        break;\n      }\n      var matches = document.querySelectorAll(pattern);\n      if (compareResults(matches, elements)) {\n        current = partial;\n      }\n    }\n\n    // robustness: degrade complex classname (heuristic)\n    names = current && current.match(/\\./g);\n    if (names && names.length > 2) {\n      var _references = document.querySelectorAll('' + prePart + current);\n\n      var _loop2 = function _loop2() {\n        var reference = _references[i];\n        if (elements.some(function (element) {\n          return reference.contains(element);\n        })) {\n          // TODO:\n          // - check using attributes + regard excludes\n          var description = reference.tagName.toLowerCase();\n          pattern = '' + prePart + description + postPart;\n          matches = document.querySelectorAll(pattern);\n\n          if (compareResults(matches, elements)) {\n            current = description;\n          }\n          return 'break';\n        }\n      };\n\n      for (var i = 0, l = _references.length; i < l; i++) {\n        var pattern;\n        var matches;\n\n        var _ret2 = _loop2();\n\n        if (_ret2 === 'break') break;\n      }\n    }\n  }\n\n  return current;\n}\n\n/**\n * Evaluate matches with expected elements\n *\n * @param  {Array.<HTMLElement>} matches  - [description]\n * @param  {Array.<HTMLElement>} elements - [description]\n * @return {Boolean}                      - [description]\n */\nfunction compareResults(matches, elements) {\n  var length = matches.length;\n\n  return length === elements.length && elements.every(function (element) {\n    for (var i = 0; i < length; i++) {\n      if (matches[i] === element) {\n        return true;\n      }\n    }\n    return false;\n  });\n}\nmodule.exports = exports['default'];\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nexports.default = adapt;\n/**\n * # Adapt\n *\n * Check and extend the environment for universal usage.\n */\n\n/**\n * Modify the context based on the environment\n *\n * @param  {HTMLELement} element - [description]\n * @param  {Object}      options - [description]\n * @return {boolean}             - [description]\n */\nfunction adapt(element, options) {\n\n  // detect environment setup\n  if (true) {\n    return false;\n  } else {\n    global.document = options.context || function () {\n      var root = element;\n      while (root.parent) {\n        root = root.parent;\n      }\n      return root;\n    }();\n  }\n\n  // https://github.com/fb55/domhandler/blob/master/index.js#L75\n  var ElementPrototype = Object.getPrototypeOf(true);\n\n  // alternative descriptor to access elements with filtering invalid elements (e.g. textnodes)\n  if (!Object.getOwnPropertyDescriptor(ElementPrototype, 'childTags')) {\n    Object.defineProperty(ElementPrototype, 'childTags', {\n      enumerable: true,\n      get: function get() {\n        return this.children.filter(function (node) {\n          // https://github.com/fb55/domelementtype/blob/master/index.js#L12\n          return node.type === 'tag' || node.type === 'script' || node.type === 'style';\n        });\n      }\n    });\n  }\n\n  if (!Object.getOwnPropertyDescriptor(ElementPrototype, 'attributes')) {\n    // https://developer.mozilla.org/en-US/docs/Web/API/Element/attributes\n    // https://developer.mozilla.org/en-US/docs/Web/API/NamedNodeMap\n    Object.defineProperty(ElementPrototype, 'attributes', {\n      enumerable: true,\n      get: function get() {\n        var attribs = this.attribs;\n\n        var attributesNames = Object.keys(attribs);\n        var NamedNodeMap = attributesNames.reduce(function (attributes, attributeName, index) {\n          attributes[index] = {\n            name: attributeName,\n            value: attribs[attributeName]\n          };\n          return attributes;\n        }, {});\n        Object.defineProperty(NamedNodeMap, 'length', {\n          enumerable: false,\n          configurable: false,\n          value: attributesNames.length\n        });\n        return NamedNodeMap;\n      }\n    });\n  }\n\n  if (!ElementPrototype.getAttribute) {\n    // https://docs.webplatform.org/wiki/dom/Element/getAttribute\n    // https://developer.mozilla.org/en-US/docs/Web/API/Element/getAttribute\n    ElementPrototype.getAttribute = function (name) {\n      return this.attribs[name] || null;\n    };\n  }\n\n  if (!ElementPrototype.getElementsByTagName) {\n    // https://docs.webplatform.org/wiki/dom/Document/getElementsByTagName\n    // https://developer.mozilla.org/en-US/docs/Web/API/Element/getElementsByTagName\n    ElementPrototype.getElementsByTagName = function (tagName) {\n      var HTMLCollection = [];\n      traverseDescendants(this.childTags, function (descendant) {\n        if (descendant.name === tagName || tagName === '*') {\n          HTMLCollection.push(descendant);\n        }\n      });\n      return HTMLCollection;\n    };\n  }\n\n  if (!ElementPrototype.getElementsByClassName) {\n    // https://docs.webplatform.org/wiki/dom/Document/getElementsByClassName\n    // https://developer.mozilla.org/en-US/docs/Web/API/Element/getElementsByClassName\n    ElementPrototype.getElementsByClassName = function (className) {\n      var names = className.trim().replace(/\\s+/g, ' ').split(' ');\n      var HTMLCollection = [];\n      traverseDescendants([this], function (descendant) {\n        var descendantClassName = descendant.attribs.class;\n        if (descendantClassName && names.every(function (name) {\n          return descendantClassName.indexOf(name) > -1;\n        })) {\n          HTMLCollection.push(descendant);\n        }\n      });\n      return HTMLCollection;\n    };\n  }\n\n  if (!ElementPrototype.querySelectorAll) {\n    // https://docs.webplatform.org/wiki/css/selectors_api/querySelectorAll\n    // https://developer.mozilla.org/en-US/docs/Web/API/Element/querySelectorAll\n    ElementPrototype.querySelectorAll = function (selectors) {\n      var _this = this;\n\n      selectors = selectors.replace(/(>)(\\S)/g, '$1 $2').trim(); // add space for '>' selector\n\n      // using right to left execution => https://github.com/fb55/css-select#how-does-it-work\n      var instructions = getInstructions(selectors);\n      var discover = instructions.shift();\n\n      var total = instructions.length;\n      return discover(this).filter(function (node) {\n        var step = 0;\n        while (step < total) {\n          node = instructions[step](node, _this);\n          if (!node) {\n            // hierarchy doesn't match\n            return false;\n          }\n          step += 1;\n        }\n        return true;\n      });\n    };\n  }\n\n  if (!ElementPrototype.contains) {\n    // https://developer.mozilla.org/en-US/docs/Web/API/Node/contains\n    ElementPrototype.contains = function (element) {\n      var inclusive = false;\n      traverseDescendants([this], function (descendant, done) {\n        if (descendant === element) {\n          inclusive = true;\n          done();\n        }\n      });\n      return inclusive;\n    };\n  }\n\n  return true;\n}\n\n/**\n * Retrieve transformation steps\n *\n * @param  {Array.<string>}   selectors - [description]\n * @return {Array.<Function>}           - [description]\n */\nfunction getInstructions(selectors) {\n  return selectors.split(' ').reverse().map(function (selector, step) {\n    var discover = step === 0;\n\n    var _selector$split = selector.split(':'),\n        _selector$split2 = _slicedToArray(_selector$split, 2),\n        type = _selector$split2[0],\n        pseudo = _selector$split2[1];\n\n    var validate = null;\n    var instruction = null;\n\n    switch (true) {\n\n      // child: '>'\n      case />/.test(type):\n        instruction = function checkParent(node) {\n          return function (validate) {\n            return validate(node.parent) && node.parent;\n          };\n        };\n        break;\n\n      // class: '.'\n      case /^\\./.test(type):\n        var names = type.substr(1).split('.');\n        validate = function validate(node) {\n          var nodeClassName = node.attribs.class;\n          return nodeClassName && names.every(function (name) {\n            return nodeClassName.indexOf(name) > -1;\n          });\n        };\n        instruction = function checkClass(node, root) {\n          if (discover) {\n            return node.getElementsByClassName(names.join(' '));\n          }\n          return typeof node === 'function' ? node(validate) : getAncestor(node, root, validate);\n        };\n        break;\n\n      // attribute: '[key=\"value\"]'\n      case /^\\[/.test(type):\n        var _type$replace$split = type.replace(/\\[|\\]|\"/g, '').split('='),\n            _type$replace$split2 = _slicedToArray(_type$replace$split, 2),\n            attributeKey = _type$replace$split2[0],\n            attributeValue = _type$replace$split2[1];\n\n        validate = function validate(node) {\n          var hasAttribute = Object.keys(node.attribs).indexOf(attributeKey) > -1;\n          if (hasAttribute) {\n            // regard optional attributeValue\n            if (!attributeValue || node.attribs[attributeKey] === attributeValue) {\n              return true;\n            }\n          }\n          return false;\n        };\n        instruction = function checkAttribute(node, root) {\n          if (discover) {\n            var NodeList = [];\n            traverseDescendants([node], function (descendant) {\n              if (validate(descendant)) {\n                NodeList.push(descendant);\n              }\n            });\n            return NodeList;\n          }\n          return typeof node === 'function' ? node(validate) : getAncestor(node, root, validate);\n        };\n        break;\n\n      // id: '#'\n      case /^#/.test(type):\n        var id = type.substr(1);\n        validate = function validate(node) {\n          return node.attribs.id === id;\n        };\n        instruction = function checkId(node, root) {\n          if (discover) {\n            var NodeList = [];\n            traverseDescendants([node], function (descendant, done) {\n              if (validate(descendant)) {\n                NodeList.push(descendant);\n                done();\n              }\n            });\n            return NodeList;\n          }\n          return typeof node === 'function' ? node(validate) : getAncestor(node, root, validate);\n        };\n        break;\n\n      // universal: '*'\n      case /\\*/.test(type):\n        validate = function validate(node) {\n          return true;\n        };\n        instruction = function checkUniversal(node, root) {\n          if (discover) {\n            var NodeList = [];\n            traverseDescendants([node], function (descendant) {\n              return NodeList.push(descendant);\n            });\n            return NodeList;\n          }\n          return typeof node === 'function' ? node(validate) : getAncestor(node, root, validate);\n        };\n        break;\n\n      // tag: '...'\n      default:\n        validate = function validate(node) {\n          return node.name === type;\n        };\n        instruction = function checkTag(node, root) {\n          if (discover) {\n            var NodeList = [];\n            traverseDescendants([node], function (descendant) {\n              if (validate(descendant)) {\n                NodeList.push(descendant);\n              }\n            });\n            return NodeList;\n          }\n          return typeof node === 'function' ? node(validate) : getAncestor(node, root, validate);\n        };\n    }\n\n    if (!pseudo) {\n      return instruction;\n    }\n\n    var rule = pseudo.match(/-(child|type)\\((\\d+)\\)$/);\n    var kind = rule[1];\n    var index = parseInt(rule[2], 10) - 1;\n\n    var validatePseudo = function validatePseudo(node) {\n      if (node) {\n        var compareSet = node.parent.childTags;\n        if (kind === 'type') {\n          compareSet = compareSet.filter(validate);\n        }\n        var nodeIndex = compareSet.findIndex(function (child) {\n          return child === node;\n        });\n        if (nodeIndex === index) {\n          return true;\n        }\n      }\n      return false;\n    };\n\n    return function enhanceInstruction(node) {\n      var match = instruction(node);\n      if (discover) {\n        return match.reduce(function (NodeList, matchedNode) {\n          if (validatePseudo(matchedNode)) {\n            NodeList.push(matchedNode);\n          }\n          return NodeList;\n        }, []);\n      }\n      return validatePseudo(match) && match;\n    };\n  });\n}\n\n/**\n * Walking recursive to invoke callbacks\n *\n * @param {Array.<HTMLElement>} nodes   - [description]\n * @param {Function}            handler - [description]\n */\nfunction traverseDescendants(nodes, handler) {\n  nodes.forEach(function (node) {\n    var progress = true;\n    handler(node, function () {\n      return progress = false;\n    });\n    if (node.childTags && progress) {\n      traverseDescendants(node.childTags, handler);\n    }\n  });\n}\n\n/**\n * Bubble up from bottom to top\n *\n * @param  {HTMLELement} node     - [description]\n * @param  {HTMLELement} root     - [description]\n * @param  {Function}    validate - [description]\n * @return {HTMLELement}          - [description]\n */\nfunction getAncestor(node, root, validate) {\n  while (node.parent) {\n    node = node.parent;\n    if (validate(node)) {\n      return node;\n    }\n    if (node === root) {\n      break;\n    }\n  }\n  return null;\n}\nmodule.exports = exports['default'];\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; /**\n                                                                                                                                                                                                                                                                               * # Select\n                                                                                                                                                                                                                                                                               *\n                                                                                                                                                                                                                                                                               * Construct a unique CSS query selector to access the selected DOM element(s).\n                                                                                                                                                                                                                                                                               * For longevity it applies different matching and optimization strategies.\n                                                                                                                                                                                                                                                                               */\n\n\nexports.getSingleSelector = getSingleSelector;\nexports.getMultiSelector = getMultiSelector;\nexports.default = getQuerySelector;\n\nvar _css = __webpack_require__(5);\n\nvar _css2 = _interopRequireDefault(_css);\n\nvar _adapt = __webpack_require__(3);\n\nvar _adapt2 = _interopRequireDefault(_adapt);\n\nvar _match = __webpack_require__(8);\n\nvar _match2 = _interopRequireDefault(_match);\n\nvar _optimize = __webpack_require__(2);\n\nvar _optimize2 = _interopRequireDefault(_optimize);\n\nvar _utilities = __webpack_require__(0);\n\nvar _common = __webpack_require__(1);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Get a selector for the provided element\n *\n * @param  {HTMLElement} element - [description]\n * @param  {Object}      options - [description]\n * @return {string}              - [description]\n */\nfunction getSingleSelector(element) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\n  if (element.nodeType === 3) {\n    element = element.parentNode;\n  }\n\n  if (element.nodeType !== 1) {\n    throw new Error('Invalid input - only HTMLElements or representations of them are supported! (not \"' + (typeof element === 'undefined' ? 'undefined' : _typeof(element)) + '\")');\n  }\n\n  var globalModified = (0, _adapt2.default)(element, options);\n\n  var selector = (0, _match2.default)(element, options);\n  var optimized = (0, _optimize2.default)(selector, element, options);\n\n  // debug\n  // console.log(`\n  //   selector:  ${selector}\n  //   optimized: ${optimized}\n  // `)\n\n  if (globalModified) {\n    delete true;\n  }\n\n  return optimized;\n}\n\n/**\n * Get a selector to match multiple descendants from an ancestor\n *\n * @param  {Array.<HTMLElement>|NodeList} elements - [description]\n * @param  {Object}                       options  - [description]\n * @return {string}                                - [description]\n */\nfunction getMultiSelector(elements) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\n  if (!Array.isArray(elements)) {\n    elements = (0, _utilities.convertNodeList)(elements);\n  }\n\n  if (elements.some(function (element) {\n    return element.nodeType !== 1;\n  })) {\n    throw new Error('Invalid input - only an Array of HTMLElements or representations of them is supported!');\n  }\n\n  var globalModified = (0, _adapt2.default)(elements[0], options);\n\n  var ancestor = (0, _common.getCommonAncestor)(elements, options);\n  var ancestorSelector = getSingleSelector(ancestor, options);\n\n  // TODO: consider usage of multiple selectors + parent-child relation + check for part redundancy\n  var commonSelectors = getCommonSelectors(elements);\n  var descendantSelector = commonSelectors[0];\n\n  var selector = (0, _optimize2.default)([ancestorSelector, descendantSelector], elements, options);\n  var selectorMatches = (0, _utilities.convertNodeList)(document.querySelectorAll(selector));\n\n  if (!elements.every(function (element) {\n    return selectorMatches.some(function (entry) {\n      return entry === element;\n    });\n  })) {\n    // TODO: cluster matches to split into similar groups for sub selections\n    /*\n      return console.warn(`\n        The selected elements can\\'t be efficiently mapped.\n        Its probably best to use multiple single selectors instead!\n      `, elements)\n    */\n  }\n\n  if (globalModified) {\n    delete true;\n  }\n\n  return selector;\n}\n\n/**\n * Get selectors to describe a set of elements\n *\n * @param  {Array.<HTMLElements>} elements - [description]\n * @return {string}                        - [description]\n */\nfunction getCommonSelectors(elements) {\n  var _getCommonProperties = (0, _common.getCommonProperties)(elements),\n      classes = _getCommonProperties.classes,\n      attributes = _getCommonProperties.attributes,\n      tag = _getCommonProperties.tag;\n\n  var selectorPath = [];\n\n  if (tag) {\n    selectorPath.push(tag);\n  }\n\n  if (classes) {\n    var classSelector = classes.map(function (name) {\n      return '.' + name;\n    }).join('');\n    selectorPath.push(classSelector);\n  }\n\n  if (attributes) {\n    var attributeSelector = Object.keys(attributes).reduce(function (parts, name) {\n      parts.push('[' + name + '=\"' + (0, _css2.default)(attributes[name]) + '\"]');\n      return parts;\n    }, []).join('');\n    selectorPath.push(attributeSelector);\n  }\n\n  if (selectorPath.length) {\n    // TODO: check for parent-child relation\n  }\n\n  return [selectorPath.join('')];\n}\n\n/**\n * Choose action depending on the input (multiple/single)\n *\n * NOTE: extended detection is used for special cases like the <select> element with <options>\n *\n * @param  {HTMLElement|NodeList|Array.<HTMLElement>} input   - [description]\n * @param  {Object}                                   options - [description]\n * @return {string}                                           - [description]\n */\nfunction getQuerySelector(input) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  if (input.length && !input.name) {\n    return getMultiSelector(input, options);\n  }\n  return getSingleSelector(input, options);\n}\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n/*! https://mths.be/cssescape v1.5.1 by @mathias | MIT license */\n;(function (root, factory) {\n\t// https://github.com/umdjs/umd/blob/master/returnExports.js\n\tif (( false ? 'undefined' : _typeof(exports)) == 'object') {\n\t\t// For Node.js.\n\t\tmodule.exports = factory(root);\n\t} else if (true) {\n\t\t// For AMD. Register as an anonymous module.\n\t\t!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory.bind(root, root)),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t} else {\n\t\t// For browser globals (not exposing the function separately).\n\t\tfactory(root);\n\t}\n})(typeof global != 'undefined' ? global : undefined, function (root) {\n\n\tif (root.CSS && root.CSS.escape) {\n\t\treturn root.CSS.escape;\n\t}\n\n\t// https://drafts.csswg.org/cssom/#serialize-an-identifier\n\tvar cssEscape = function cssEscape(value) {\n\t\tif (arguments.length == 0) {\n\t\t\tthrow new TypeError('`CSS.escape` requires an argument.');\n\t\t}\n\t\tvar string = String(value);\n\t\tvar length = string.length;\n\t\tvar index = -1;\n\t\tvar codeUnit;\n\t\tvar result = '';\n\t\tvar firstCodeUnit = string.charCodeAt(0);\n\t\twhile (++index < length) {\n\t\t\tcodeUnit = string.charCodeAt(index);\n\t\t\t// Note: there’s no need to special-case astral symbols, surrogate\n\t\t\t// pairs, or lone surrogates.\n\n\t\t\t// If the character is NULL (U+0000), then the REPLACEMENT CHARACTER\n\t\t\t// (U+FFFD).\n\t\t\tif (codeUnit == 0x0000) {\n\t\t\t\tresult += '\\uFFFD';\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t// If the character is in the range [\\1-\\1F] (U+0001 to U+001F) or is\n\t\t\t// U+007F, […]\n\t\t\tcodeUnit >= 0x0001 && codeUnit <= 0x001F || codeUnit == 0x007F ||\n\t\t\t// If the character is the first character and is in the range [0-9]\n\t\t\t// (U+0030 to U+0039), […]\n\t\t\tindex == 0 && codeUnit >= 0x0030 && codeUnit <= 0x0039 ||\n\t\t\t// If the character is the second character and is in the range [0-9]\n\t\t\t// (U+0030 to U+0039) and the first character is a `-` (U+002D), […]\n\t\t\tindex == 1 && codeUnit >= 0x0030 && codeUnit <= 0x0039 && firstCodeUnit == 0x002D) {\n\t\t\t\t// https://drafts.csswg.org/cssom/#escape-a-character-as-code-point\n\t\t\t\tresult += '\\\\' + codeUnit.toString(16) + ' ';\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t// If the character is the first character and is a `-` (U+002D), and\n\t\t\t// there is no second character, […]\n\t\t\tindex == 0 && length == 1 && codeUnit == 0x002D) {\n\t\t\t\tresult += '\\\\' + string.charAt(index);\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// If the character is not handled by one of the above rules and is\n\t\t\t// greater than or equal to U+0080, is `-` (U+002D) or `_` (U+005F), or\n\t\t\t// is in one of the ranges [0-9] (U+0030 to U+0039), [A-Z] (U+0041 to\n\t\t\t// U+005A), or [a-z] (U+0061 to U+007A), […]\n\t\t\tif (codeUnit >= 0x0080 || codeUnit == 0x002D || codeUnit == 0x005F || codeUnit >= 0x0030 && codeUnit <= 0x0039 || codeUnit >= 0x0041 && codeUnit <= 0x005A || codeUnit >= 0x0061 && codeUnit <= 0x007A) {\n\t\t\t\t// the character itself\n\t\t\t\tresult += string.charAt(index);\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Otherwise, the escaped character.\n\t\t\t// https://drafts.csswg.org/cssom/#escape-a-character\n\t\t\tresult += '\\\\' + string.charAt(index);\n\t\t}\n\t\treturn result;\n\t};\n\n\tif (!root.CSS) {\n\t\troot.CSS = {};\n\t}\n\n\troot.CSS.escape = cssEscape;\n\treturn cssEscape;\n});\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(6)))\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar g;\n\n// This works in non-strict mode\ng = function () {\n\treturn this;\n}();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || Function(\"return this\")() || (1, eval)(\"this\");\n} catch (e) {\n\t// This works if the window reference is available\n\tif ((typeof window === \"undefined\" ? \"undefined\" : _typeof(window)) === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.common = exports.optimize = exports.getMultiSelector = exports.getSingleSelector = exports.select = undefined;\n\nvar _select2 = __webpack_require__(4);\n\nObject.defineProperty(exports, 'getSingleSelector', {\n  enumerable: true,\n  get: function get() {\n    return _select2.getSingleSelector;\n  }\n});\nObject.defineProperty(exports, 'getMultiSelector', {\n  enumerable: true,\n  get: function get() {\n    return _select2.getMultiSelector;\n  }\n});\n\nvar _select3 = _interopRequireDefault(_select2);\n\nvar _optimize2 = __webpack_require__(2);\n\nvar _optimize3 = _interopRequireDefault(_optimize2);\n\nvar _common2 = __webpack_require__(1);\n\nvar _common = _interopRequireWildcard(_common2);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.select = _select3.default;\nexports.optimize = _optimize3.default;\nexports.common = _common;\nexports.default = _select3.default;\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; /**\n                                                                                                                                                                                                                                                                               * # Match\n                                                                                                                                                                                                                                                                               *\n                                                                                                                                                                                                                                                                               * Retrieve selector for a node.\n                                                                                                                                                                                                                                                                               */\n\nexports.default = match;\n\nvar _utilities = __webpack_require__(0);\n\nvar defaultIgnore = {\n  attribute: function attribute(attributeName) {\n    return ['style', 'data-reactid', 'data-react-checksum'].indexOf(attributeName) > -1;\n  }\n};\n\n/**\n * Get the path of the element\n *\n * @param  {HTMLElement} node    - [description]\n * @param  {Object}      options - [description]\n * @return {string}              - [description]\n */\nfunction match(node, options) {\n  var _options$root = options.root,\n      root = _options$root === undefined ? document : _options$root,\n      _options$skip = options.skip,\n      skip = _options$skip === undefined ? null : _options$skip,\n      _options$priority = options.priority,\n      priority = _options$priority === undefined ? ['id', 'class', 'href', 'src'] : _options$priority,\n      _options$ignore = options.ignore,\n      ignore = _options$ignore === undefined ? {} : _options$ignore;\n\n\n  var path = [];\n  var element = node;\n  var length = path.length;\n  var ignoreClass = false;\n\n  var skipCompare = skip && (Array.isArray(skip) ? skip : [skip]).map(function (entry) {\n    if (typeof entry !== 'function') {\n      return function (element) {\n        return element === entry;\n      };\n    }\n    return entry;\n  });\n\n  var skipChecks = function skipChecks(element) {\n    return skip && skipCompare.some(function (compare) {\n      return compare(element);\n    });\n  };\n\n  Object.keys(ignore).forEach(function (type) {\n    if (type === 'class') {\n      ignoreClass = true;\n    }\n    var predicate = ignore[type];\n    if (typeof predicate === 'function') return;\n    if (typeof predicate === 'number') {\n      predicate = predicate.toString();\n    }\n    if (typeof predicate === 'string') {\n      predicate = new RegExp((0, _utilities.escapeValue)(predicate).replace(/\\\\/g, '\\\\\\\\'));\n    }\n    if (typeof predicate === 'boolean') {\n      predicate = predicate ? /(?:)/ : /.^/;\n    }\n    // check class-/attributename for regex\n    ignore[type] = function (name, value) {\n      return predicate.test(value);\n    };\n  });\n\n  if (ignoreClass) {\n    var ignoreAttribute = ignore.attribute;\n    ignore.attribute = function (name, value, defaultPredicate) {\n      return ignore.class(value) || ignoreAttribute && ignoreAttribute(name, value, defaultPredicate);\n    };\n  }\n\n  while (element !== root) {\n    if (skipChecks(element) !== true) {\n      // ~ global\n      if (checkAttributes(priority, element, ignore, path, root)) break;\n      if (checkTag(element, ignore, path, root)) break;\n\n      // ~ local\n      checkAttributes(priority, element, ignore, path);\n      if (path.length === length) {\n        checkTag(element, ignore, path);\n      }\n\n      // define only one part each iteration\n      if (path.length === length) {\n        checkChilds(priority, element, ignore, path);\n      }\n    }\n\n    element = element.parentNode;\n    length = path.length;\n  }\n\n  if (element === root) {\n    var pattern = findPattern(priority, element, ignore);\n    path.unshift(pattern);\n  }\n\n  return path.join(' ');\n}\n\n/**\n * Extend path with attribute identifier\n *\n * @param  {Array.<string>} priority - [description]\n * @param  {HTMLElement}    element  - [description]\n * @param  {Object}         ignore   - [description]\n * @param  {Array.<string>} path     - [description]\n * @param  {HTMLElement}    parent   - [description]\n * @return {boolean}                 - [description]\n */\nfunction checkAttributes(priority, element, ignore, path) {\n  var parent = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : element.parentNode;\n\n  var pattern = findAttributesPattern(priority, element, ignore);\n  if (pattern) {\n    var matches = parent.querySelectorAll(pattern);\n    if (matches.length === 1) {\n      path.unshift(pattern);\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Lookup attribute identifier\n *\n * @param  {Array.<string>} priority - [description]\n * @param  {HTMLElement}    element  - [description]\n * @param  {Object}         ignore   - [description]\n * @return {string?}                 - [description]\n */\nfunction findAttributesPattern(priority, element, ignore) {\n  var attributes = element.attributes;\n  var keys = [];\n  for (var i = 0; i < attributes.length; i++) {\n    // skip null attributes in IE 11\n    if (attributes[i]) {\n      keys.push(i);\n    }\n  }\n  var sortedKeys = Object.keys(attributes).sort(function (curr, next) {\n    var currPos = priority.indexOf(attributes[curr].name);\n    var nextPos = priority.indexOf(attributes[next].name);\n    if (currPos === -1 || nextPos === -1) {\n      return nextPos - currPos;\n    }\n    return currPos - nextPos;\n  });\n\n  var _loop = function _loop() {\n    var key = sortedKeys[i];\n    var attribute = attributes[key];\n    var attributeName = attribute.name;\n    var attributeValue = (0, _utilities.escapeValue)(attribute.value);\n\n    var currentIgnore = ignore[attributeName] || ignore.attribute;\n    var currentDefaultIgnore = defaultIgnore[attributeName] || defaultIgnore.attribute;\n    if (checkIgnore(currentIgnore, attributeName, attributeValue, currentDefaultIgnore)) {\n      return 'continue';\n    }\n\n    pattern = '[' + attributeName + '=\"' + attributeValue + '\"]';\n\n\n    if (/\\b\\d/.test(attributeValue) === false) {\n      if (attributeName === 'id') {\n        pattern = '#' + attributeValue;\n      }\n\n      if (attributeName === 'class') {\n        classNames = attributeValue.split(' ');\n\n        classNames = classNames.filter(function (className) {\n          return !checkIgnore(currentIgnore, attributeName, className, currentDefaultIgnore);\n        });\n        className = classNames.join('.');\n\n        pattern = className ? '.' + className : '';\n      }\n    }\n\n    return {\n      v: pattern\n    };\n  };\n\n  for (var i = 0, l = sortedKeys.length; i < l; i++) {\n    var pattern;\n    var classNames;\n    var className;\n\n    var _ret = _loop();\n\n    switch (_ret) {\n      case 'continue':\n        continue;\n\n      default:\n        if ((typeof _ret === 'undefined' ? 'undefined' : _typeof(_ret)) === \"object\") return _ret.v;\n    }\n  }\n  return null;\n}\n\n/**\n * Extend path with tag identifier\n *\n * @param  {HTMLElement}    element - [description]\n * @param  {Object}         ignore  - [description]\n * @param  {Array.<string>} path    - [description]\n * @param  {HTMLElement}    parent  - [description]\n * @return {boolean}                - [description]\n */\nfunction checkTag(element, ignore, path) {\n  var parent = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : element.parentNode;\n\n  var pattern = findTagPattern(element, ignore);\n  if (pattern) {\n    var matches = parent.getElementsByTagName(pattern);\n    if (matches.length === 1) {\n      path.unshift(pattern);\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Lookup tag identifier\n *\n * @param  {HTMLElement} element - [description]\n * @param  {Object}      ignore  - [description]\n * @return {boolean}             - [description]\n */\nfunction findTagPattern(element, ignore) {\n  var tagName = element.tagName.toLowerCase();\n  if (checkIgnore(ignore.tag, null, tagName)) {\n    return null;\n  }\n  return tagName;\n}\n\n/**\n * Extend path with specific child identifier\n *\n * NOTE: 'childTags' is a custom property to use as a view filter for tags using 'adapter.js'\n *\n * @param  {Array.<string>} priority - [description]\n * @param  {HTMLElement}    element  - [description]\n * @param  {Object}         ignore   - [description]\n * @param  {Array.<string>} path     - [description]\n * @return {boolean}                 - [description]\n */\nfunction checkChilds(priority, element, ignore, path) {\n  var parent = element.parentNode;\n  var children = parent.childTags || parent.children;\n  for (var i = 0, l = children.length; i < l; i++) {\n    var child = children[i];\n    if (child === element) {\n      var childPattern = findPattern(priority, child, ignore);\n      if (!childPattern) {\n        return console.warn('\\n          Element couldn\\'t be matched through strict ignore pattern!\\n        ', child, ignore, childPattern);\n      }\n      var pattern = '> ' + childPattern + ':nth-child(' + (i + 1) + ')';\n      path.unshift(pattern);\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Lookup identifier\n *\n * @param  {Array.<string>} priority - [description]\n * @param  {HTMLElement}    element  - [description]\n * @param  {Object}         ignore   - [description]\n * @return {string}                  - [description]\n */\nfunction findPattern(priority, element, ignore) {\n  var pattern = findAttributesPattern(priority, element, ignore);\n  if (!pattern) {\n    pattern = findTagPattern(element, ignore);\n  }\n  return pattern;\n}\n\n/**\n * Validate with custom and default functions\n *\n * @param  {Function} predicate        - [description]\n * @param  {string?}  name             - [description]\n * @param  {string}   value            - [description]\n * @param  {Function} defaultPredicate - [description]\n * @return {boolean}                   - [description]\n */\nfunction checkIgnore(predicate, name, value, defaultPredicate) {\n  if (!value) {\n    return true;\n  }\n  var check = predicate || defaultPredicate;\n  if (!check) {\n    return false;\n  }\n  return check(name, value, defaultPredicate);\n}\nmodule.exports = exports['default'];\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// optimal-select.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 7);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 2b7c6400596b1db78938","/**\n * # Utilities\n *\n * Convenience helpers.\n */\n\n/**\n * Create an array with the DOM nodes of the list\n *\n * @param  {NodeList}             nodes - [description]\n * @return {Array.<HTMLElement>}        - [description]\n */\nexport function convertNodeList (nodes) {\n  const { length } = nodes\n  const arr = new Array(length)\n  for (var i = 0; i < length; i++) {\n    arr[i] = nodes[i]\n  }\n  return arr\n}\n\n/**\n * Escape special characters and line breaks as a simplified version of 'CSS.escape()'\n *\n * Description of valid characters: https://mathiasbynens.be/notes/css-escapes\n *\n * @param  {String?} value - [description]\n * @return {String}        - [description]\n */\nexport function escapeValue (value) {\n  return value && value.replace(/['\"`\\\\/:\\?&!#$%^()[\\]{|}*+;,.<=>@~]/g, '\\\\$&')\n                       .replace(/\\n/g, '\\A')\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utilities.js","/**\n * # Common\n *\n * Process collections for similarities.\n */\n\n/**\n * Find the last common ancestor of elements\n *\n * @param  {Array.<HTMLElements>} elements - [description]\n * @return {HTMLElement}                   - [description]\n */\nexport function getCommonAncestor (elements, options = {}) {\n\n  const {\n    root = document\n  } = options\n\n  const ancestors = []\n\n  elements.forEach((element, index) => {\n    const parents = []\n    while (element !== root) {\n      element = element.parentNode\n      parents.unshift(element)\n    }\n    ancestors[index] = parents\n  })\n\n  ancestors.sort((curr, next) => curr.length - next.length)\n\n  const shallowAncestor = ancestors.shift()\n\n  var ancestor = null\n\n  for (var i = 0, l = shallowAncestor.length; i < l; i++) {\n    const parent = shallowAncestor[i]\n    const missing = ancestors.some((otherParents) => {\n      return !otherParents.some((otherParent) => otherParent === parent)\n    })\n\n    if (missing) {\n      // TODO: find similar sub-parents, not the top root, e.g. sharing a class selector\n      break\n    }\n\n    ancestor = parent\n  }\n\n  return ancestor\n}\n\n/**\n * Get a set of common properties of elements\n *\n * @param  {Array.<HTMLElement>} elements - [description]\n * @return {Object}                       - [description]\n */\nexport function getCommonProperties (elements) {\n\n  const commonProperties = {\n    classes: [],\n    attributes: {},\n    tag: null\n  }\n\n  elements.forEach((element) => {\n\n    var {\n      classes: commonClasses,\n      attributes: commonAttributes,\n      tag: commonTag\n    } = commonProperties\n\n    // ~ classes\n    if (commonClasses !== undefined) {\n      var classes = element.getAttribute('class')\n      if (classes) {\n        classes = classes.trim().split(' ')\n        if (!commonClasses.length) {\n          commonProperties.classes = classes\n        } else {\n          commonClasses = commonClasses.filter((entry) => classes.some((name) => name === entry))\n          if (commonClasses.length) {\n            commonProperties.classes = commonClasses\n          } else {\n            delete commonProperties.classes\n          }\n        }\n      } else {\n        // TODO: restructure removal as 2x set / 2x delete, instead of modify always replacing with new collection\n        delete commonProperties.classes\n      }\n    }\n\n    // ~ attributes\n    if (commonAttributes !== undefined) {\n      const elementAttributes = element.attributes\n      const attributes = Object.keys(elementAttributes).reduce((attributes, key) => {\n        const attribute = elementAttributes[key]\n        const attributeName = attribute.name\n        // NOTE: workaround detection for non-standard phantomjs NamedNodeMap behaviour\n        // (issue: https://github.com/ariya/phantomjs/issues/14634)\n        if (attribute && attributeName !== 'class') {\n          attributes[attributeName] = attribute.value\n        }\n        return attributes\n      }, {})\n\n      const attributesNames = Object.keys(attributes)\n      const commonAttributesNames = Object.keys(commonAttributes)\n\n      if (attributesNames.length) {\n        if (!commonAttributesNames.length) {\n          commonProperties.attributes = attributes\n        } else {\n          commonAttributes = commonAttributesNames.reduce((nextCommonAttributes, name) => {\n            const value = commonAttributes[name]\n            if (value === attributes[name]) {\n              nextCommonAttributes[name] = value\n            }\n            return nextCommonAttributes\n          }, {})\n          if (Object.keys(commonAttributes).length) {\n            commonProperties.attributes = commonAttributes\n          } else {\n            delete commonProperties.attributes\n          }\n        }\n      } else {\n        delete commonProperties.attributes\n      }\n    }\n\n    // ~ tag\n    if (commonTag !== undefined) {\n      const tag = element.tagName.toLowerCase()\n      if (!commonTag) {\n        commonProperties.tag = tag\n      } else if (tag !== commonTag) {\n        delete commonProperties.tag\n      }\n    }\n  })\n\n  return commonProperties\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common.js","/**\n * # Optimize\n *\n * 1.) Improve efficiency through shorter selectors by removing redundancy\n * 2.) Improve robustness through selector transformation\n */\n\nimport adapt from './adapt'\nimport { convertNodeList } from './utilities'\n\n/**\n * Apply different optimization techniques\n *\n * @param  {string}                          selector - [description]\n * @param  {HTMLElement|Array.<HTMLElement>} element  - [description]\n * @param  {Object}                          options  - [description]\n * @return {string}                                   - [description]\n */\nexport default function optimize (selector, elements, options = {}) {\n\n  // convert single entry and NodeList\n  if (!Array.isArray(elements)) {\n    elements = !elements.length ? [elements] : convertNodeList(elements)\n  }\n\n  if (!elements.length || elements.some((element) => element.nodeType !== 1)) {\n    throw new Error(`Invalid input - to compare HTMLElements its necessary to provide a reference of the selected node(s)! (missing \"elements\")`)\n  }\n\n  const globalModified = adapt(elements[0], options)\n\n  var path;\n  if (!Array.isArray(selector)) {\n    // chunk parts outside of quotes (http://stackoverflow.com/a/25663729)\n    path = selector.replace(/> /g, '>').split(/\\s+(?=(?:(?:[^\"]*\"){2})*[^\"]*$)/)\n  } else {\n    path = selector;\n  }\n\n  if (path.length < 2) {\n    return optimizePart('', selector, '', elements)\n  }\n\n  const shortened = [path.pop()]\n  while (path.length > 1)  {\n    const current = path.pop()\n    const prePart = path.join(' ')\n    const postPart = shortened.join(' ')\n\n    const pattern = `${prePart} ${postPart}`\n    const matches = document.querySelectorAll(pattern)\n    if (matches.length !== elements.length) {\n      shortened.unshift(optimizePart(prePart, current, postPart, elements))\n    }\n  }\n  shortened.unshift(path[0])\n  path = shortened\n\n  // optimize start + end\n  path[0] = optimizePart('', path[0], path.slice(1).join(' '), elements)\n  path[path.length-1] = optimizePart(path.slice(0, -1).join(' '), path[path.length-1], '', elements)\n\n  if (globalModified) {\n    delete global.document\n  }\n\n  return path.join(' ').replace(/>/g, '> ').trim()\n}\n\n/**\n * Improve a chunk of the selector\n *\n * @param  {string}              prePart  - [description]\n * @param  {string}              current  - [description]\n * @param  {string}              postPart - [description]\n * @param  {Array.<HTMLElement>} elements - [description]\n * @return {string}                       - [description]\n */\nfunction optimizePart (prePart, current, postPart, elements) {\n  if (prePart.length) prePart = `${prePart} `\n  if (postPart.length) postPart = ` ${postPart}`\n\n  // robustness: attribute without value (generalization)\n  if (/\\[*\\]/.test(current)) {\n    const key = current.replace(/=.*$/, ']')\n    var pattern = `${prePart}${key}${postPart}`\n    var matches = document.querySelectorAll(pattern)\n    if (compareResults(matches, elements)) {\n      current = key\n    } else {\n      // robustness: replace specific key-value with base tag (heuristic)\n      const references = document.querySelectorAll(`${prePart}${key}`)\n      for (var i = 0, l = references.length; i < l; i++) {\n        const reference = references[i]\n        if (elements.some((element) => reference.contains(element))) {\n          const description = reference.tagName.toLowerCase()\n          var pattern = `${prePart}${description}${postPart}`\n          var matches = document.querySelectorAll(pattern)\n          if (compareResults(matches, elements)) {\n            current = description\n          }\n          break\n        }\n      }\n    }\n  }\n\n  // robustness: descendant instead child (heuristic)\n  if (/>/.test(current)) {\n    const descendant = current.replace(/>/, '')\n    var pattern = `${prePart}${descendant}${postPart}`\n    var matches = document.querySelectorAll(pattern)\n    if (compareResults(matches, elements)) {\n      current = descendant\n    }\n  }\n\n  // robustness: 'nth-of-type' instead 'nth-child' (heuristic)\n  if (/:nth-child/.test(current)) {\n    // TODO: consider complete coverage of 'nth-of-type' replacement\n    const type = current.replace(/nth-child/g, 'nth-of-type')\n    var pattern = `${prePart}${type}${postPart}`\n    var matches = document.querySelectorAll(pattern)\n    if (compareResults(matches, elements)) {\n      current = type\n    }\n  }\n\n  // efficiency: combinations of classname (partial permutations)\n  if (/\\.\\S+\\.\\S+/.test(current)) {\n    var names = current.trim().split('.').slice(1)\n                                         .map((name) => `.${name}`)\n                                         .sort((curr, next) => curr.length - next.length)\n    while (names.length) {\n      const partial = current.replace(names.shift(), '').trim()\n      var pattern = `${prePart}${partial}${postPart}`.trim()\n      if (!pattern.length || pattern.charAt(0) === '>' || pattern.charAt(pattern.length-1) === '>') {\n        break\n      }\n      var matches = document.querySelectorAll(pattern)\n      if (compareResults(matches, elements)) {\n        current = partial\n      }\n    }\n\n    // robustness: degrade complex classname (heuristic)\n    names = current && current.match(/\\./g)\n    if (names && names.length > 2) {\n      const references = document.querySelectorAll(`${prePart}${current}`)\n      for (var i = 0, l = references.length; i < l; i++) {\n        const reference = references[i]\n        if (elements.some((element) => reference.contains(element) )) {\n          // TODO:\n          // - check using attributes + regard excludes\n          const description = reference.tagName.toLowerCase()\n          var pattern = `${prePart}${description}${postPart}`\n          var matches = document.querySelectorAll(pattern)\n          if (compareResults(matches, elements)) {\n            current = description\n          }\n          break\n        }\n      }\n    }\n  }\n\n  return current\n}\n\n/**\n * Evaluate matches with expected elements\n *\n * @param  {Array.<HTMLElement>} matches  - [description]\n * @param  {Array.<HTMLElement>} elements - [description]\n * @return {Boolean}                      - [description]\n */\nfunction compareResults (matches, elements) {\n  const { length } = matches\n  return length === elements.length && elements.every((element) => {\n    for (var i = 0; i < length; i++) {\n      if (matches[i] === element) {\n        return true\n      }\n    }\n    return false\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/optimize.js","/**\n * # Adapt\n *\n * Check and extend the environment for universal usage.\n */\n\n/**\n * Modify the context based on the environment\n *\n * @param  {HTMLELement} element - [description]\n * @param  {Object}      options - [description]\n * @return {boolean}             - [description]\n */\nexport default function adapt (element, options) {\n\n  // detect environment setup\n  if (global.document) {\n    return false\n  } else {\n    global.document = options.context || (() => {\n      var root = element\n      while (root.parent) {\n        root = root.parent\n      }\n      return root\n    })()\n  }\n\n  // https://github.com/fb55/domhandler/blob/master/index.js#L75\n  const ElementPrototype = Object.getPrototypeOf(global.document)\n\n  // alternative descriptor to access elements with filtering invalid elements (e.g. textnodes)\n  if (!Object.getOwnPropertyDescriptor(ElementPrototype, 'childTags')) {\n    Object.defineProperty(ElementPrototype, 'childTags', {\n      enumerable: true,\n      get () {\n        return this.children.filter((node) => {\n          // https://github.com/fb55/domelementtype/blob/master/index.js#L12\n          return node.type === 'tag' || node.type === 'script' || node.type === 'style'\n        })\n      }\n    })\n  }\n\n  if (!Object.getOwnPropertyDescriptor(ElementPrototype, 'attributes')) {\n    // https://developer.mozilla.org/en-US/docs/Web/API/Element/attributes\n    // https://developer.mozilla.org/en-US/docs/Web/API/NamedNodeMap\n    Object.defineProperty(ElementPrototype, 'attributes', {\n      enumerable: true,\n      get () {\n        const { attribs } = this\n        const attributesNames = Object.keys(attribs)\n        const NamedNodeMap = attributesNames.reduce((attributes, attributeName, index) => {\n          attributes[index] = {\n            name: attributeName,\n            value: attribs[attributeName]\n          }\n          return attributes\n        }, { })\n        Object.defineProperty(NamedNodeMap, 'length', {\n          enumerable: false,\n          configurable: false,\n          value: attributesNames.length\n        })\n        return NamedNodeMap\n      }\n    })\n  }\n\n  if (!ElementPrototype.getAttribute) {\n    // https://docs.webplatform.org/wiki/dom/Element/getAttribute\n    // https://developer.mozilla.org/en-US/docs/Web/API/Element/getAttribute\n    ElementPrototype.getAttribute = function (name) {\n      return this.attribs[name] || null\n    }\n  }\n\n  if (!ElementPrototype.getElementsByTagName) {\n    // https://docs.webplatform.org/wiki/dom/Document/getElementsByTagName\n    // https://developer.mozilla.org/en-US/docs/Web/API/Element/getElementsByTagName\n    ElementPrototype.getElementsByTagName = function (tagName) {\n      const HTMLCollection = []\n      traverseDescendants(this.childTags, (descendant) => {\n        if (descendant.name === tagName || tagName === '*') {\n          HTMLCollection.push(descendant)\n        }\n      })\n      return HTMLCollection\n    }\n  }\n\n  if (!ElementPrototype.getElementsByClassName) {\n    // https://docs.webplatform.org/wiki/dom/Document/getElementsByClassName\n    // https://developer.mozilla.org/en-US/docs/Web/API/Element/getElementsByClassName\n    ElementPrototype.getElementsByClassName = function (className) {\n      const names = className.trim().replace(/\\s+/g, ' ').split(' ')\n      const HTMLCollection = []\n      traverseDescendants([this], (descendant) => {\n        const descendantClassName = descendant.attribs.class\n        if (descendantClassName && names.every((name) => descendantClassName.indexOf(name) > -1)) {\n          HTMLCollection.push(descendant)\n        }\n      })\n      return HTMLCollection\n    }\n  }\n\n  if (!ElementPrototype.querySelectorAll) {\n    // https://docs.webplatform.org/wiki/css/selectors_api/querySelectorAll\n    // https://developer.mozilla.org/en-US/docs/Web/API/Element/querySelectorAll\n    ElementPrototype.querySelectorAll = function (selectors) {\n      selectors = selectors.replace(/(>)(\\S)/g, '$1 $2').trim() // add space for '>' selector\n\n      // using right to left execution => https://github.com/fb55/css-select#how-does-it-work\n      const instructions = getInstructions(selectors)\n      const discover = instructions.shift()\n\n      const total = instructions.length\n      return discover(this).filter((node) => {\n        var step = 0\n        while (step < total) {\n          node = instructions[step](node, this)\n          if (!node) { // hierarchy doesn't match\n            return false\n          }\n          step += 1\n        }\n        return true\n      })\n    }\n  }\n\n  if (!ElementPrototype.contains) {\n    // https://developer.mozilla.org/en-US/docs/Web/API/Node/contains\n    ElementPrototype.contains = function (element) {\n      var inclusive = false\n      traverseDescendants([this], (descendant, done) => {\n        if (descendant === element) {\n          inclusive = true\n          done()\n        }\n      })\n      return inclusive\n    }\n  }\n\n  return true\n}\n\n/**\n * Retrieve transformation steps\n *\n * @param  {Array.<string>}   selectors - [description]\n * @return {Array.<Function>}           - [description]\n */\nfunction getInstructions (selectors) {\n  return selectors.split(' ').reverse().map((selector, step) => {\n    const discover = step === 0\n    const [type, pseudo] = selector.split(':')\n\n    var validate = null\n    var instruction = null\n\n    switch (true) {\n\n      // child: '>'\n      case />/.test(type):\n        instruction = function checkParent (node) {\n          return (validate) => validate(node.parent) && node.parent\n        }\n        break\n\n      // class: '.'\n      case /^\\./.test(type):\n        const names = type.substr(1).split('.')\n        validate = (node) => {\n          const nodeClassName = node.attribs.class\n          return nodeClassName && names.every((name) => nodeClassName.indexOf(name) > -1)\n        }\n        instruction = function checkClass (node, root) {\n          if (discover) {\n            return node.getElementsByClassName(names.join(' '))\n          }\n          return (typeof node === 'function') ? node(validate) : getAncestor(node, root, validate)\n        }\n        break\n\n      // attribute: '[key=\"value\"]'\n      case /^\\[/.test(type):\n        const [attributeKey, attributeValue] = type.replace(/\\[|\\]|\"/g, '').split('=')\n        validate = (node) => {\n          const hasAttribute = Object.keys(node.attribs).indexOf(attributeKey) > -1\n          if (hasAttribute) { // regard optional attributeValue\n            if (!attributeValue || (node.attribs[attributeKey] === attributeValue)) {\n              return true\n            }\n          }\n          return false\n        }\n        instruction = function checkAttribute (node, root) {\n          if (discover) {\n            const NodeList = []\n            traverseDescendants([node], (descendant) => {\n              if (validate(descendant)) {\n                NodeList.push(descendant)\n              }\n            })\n            return NodeList\n          }\n          return (typeof node === 'function') ? node(validate) : getAncestor(node, root, validate)\n        }\n        break\n\n      // id: '#'\n      case /^#/.test(type):\n        const id = type.substr(1)\n        validate = (node) => {\n          return node.attribs.id === id\n        }\n        instruction = function checkId (node, root) {\n          if (discover) {\n            const NodeList = []\n            traverseDescendants([node], (descendant, done) => {\n              if (validate(descendant)) {\n                NodeList.push(descendant)\n                done()\n              }\n            })\n            return NodeList\n          }\n          return (typeof node === 'function') ? node(validate) : getAncestor(node, root, validate)\n        }\n        break\n\n      // universal: '*'\n      case /\\*/.test(type):\n        validate = (node) => true\n        instruction = function checkUniversal (node, root) {\n          if (discover) {\n            const NodeList = []\n            traverseDescendants([node], (descendant) => NodeList.push(descendant))\n            return NodeList\n          }\n          return (typeof node === 'function') ? node(validate) : getAncestor(node, root, validate)\n        }\n        break\n\n      // tag: '...'\n      default:\n        validate = (node) => {\n          return node.name === type\n        }\n        instruction = function checkTag (node, root) {\n          if (discover) {\n            const NodeList = []\n            traverseDescendants([node], (descendant) => {\n              if (validate(descendant)) {\n                NodeList.push(descendant)\n              }\n            })\n            return NodeList\n          }\n          return (typeof node === 'function') ? node(validate) : getAncestor(node, root, validate)\n        }\n    }\n\n    if (!pseudo) {\n      return instruction\n    }\n\n    const rule = pseudo.match(/-(child|type)\\((\\d+)\\)$/)\n    const kind = rule[1]\n    const index = parseInt(rule[2], 10) - 1\n\n    const validatePseudo = (node) => {\n      if (node) {\n        var compareSet = node.parent.childTags\n        if (kind === 'type') {\n          compareSet = compareSet.filter(validate)\n        }\n        const nodeIndex = compareSet.findIndex((child) => child === node)\n        if (nodeIndex === index) {\n          return true\n        }\n      }\n      return false\n    }\n\n    return function enhanceInstruction (node) {\n      const match = instruction(node)\n      if (discover) {\n        return match.reduce((NodeList, matchedNode) => {\n          if (validatePseudo(matchedNode)) {\n            NodeList.push(matchedNode)\n          }\n          return NodeList\n        }, [])\n      }\n      return validatePseudo(match) && match\n    }\n  })\n}\n\n/**\n * Walking recursive to invoke callbacks\n *\n * @param {Array.<HTMLElement>} nodes   - [description]\n * @param {Function}            handler - [description]\n */\nfunction traverseDescendants (nodes, handler) {\n  nodes.forEach((node) => {\n    var progress = true\n    handler(node, () => progress = false)\n    if (node.childTags && progress) {\n      traverseDescendants(node.childTags, handler)\n    }\n  })\n}\n\n/**\n * Bubble up from bottom to top\n *\n * @param  {HTMLELement} node     - [description]\n * @param  {HTMLELement} root     - [description]\n * @param  {Function}    validate - [description]\n * @return {HTMLELement}          - [description]\n */\nfunction getAncestor (node, root, validate) {\n  while (node.parent) {\n    node = node.parent\n    if (validate(node)) {\n      return node\n    }\n    if (node === root) {\n      break\n    }\n  }\n  return null\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/adapt.js","/**\n * # Select\n *\n * Construct a unique CSS query selector to access the selected DOM element(s).\n * For longevity it applies different matching and optimization strategies.\n */\nimport cssEscape from 'css.escape';\nimport adapt from './adapt'\nimport match from './match'\nimport optimize from './optimize'\nimport { convertNodeList } from './utilities'\nimport { getCommonAncestor, getCommonProperties } from './common'\n\n/**\n * Get a selector for the provided element\n *\n * @param  {HTMLElement} element - [description]\n * @param  {Object}      options - [description]\n * @return {string}              - [description]\n */\nexport function getSingleSelector (element, options = {}) {\n\n  if (element.nodeType === 3) {\n    element = element.parentNode\n  }\n\n  if (element.nodeType !== 1) {\n    throw new Error(`Invalid input - only HTMLElements or representations of them are supported! (not \"${typeof element}\")`)\n  }\n\n  const globalModified = adapt(element, options)\n\n  const selector = match(element, options)\n  const optimized = optimize(selector, element, options)\n\n  // debug\n  // console.log(`\n  //   selector:  ${selector}\n  //   optimized: ${optimized}\n  // `)\n\n  if (globalModified) {\n    delete global.document\n  }\n\n  return optimized\n}\n\n/**\n * Get a selector to match multiple descendants from an ancestor\n *\n * @param  {Array.<HTMLElement>|NodeList} elements - [description]\n * @param  {Object}                       options  - [description]\n * @return {string}                                - [description]\n */\nexport function getMultiSelector (elements, options = {}) {\n\n  if (!Array.isArray(elements)) {\n    elements = convertNodeList(elements)\n  }\n\n  if (elements.some((element) => element.nodeType !== 1)) {\n    throw new Error(`Invalid input - only an Array of HTMLElements or representations of them is supported!`)\n  }\n\n  const globalModified = adapt(elements[0], options)\n\n  const ancestor = getCommonAncestor(elements, options)\n  const ancestorSelector = getSingleSelector(ancestor, options)\n\n  // TODO: consider usage of multiple selectors + parent-child relation + check for part redundancy\n  const commonSelectors = getCommonSelectors(elements)\n  const descendantSelector = commonSelectors[0]\n\n  const selector = optimize([ancestorSelector, descendantSelector], elements, options)\n  const selectorMatches = convertNodeList(document.querySelectorAll(selector))\n\n  if (!elements.every((element) => selectorMatches.some((entry) => entry === element) )) {\n    // TODO: cluster matches to split into similar groups for sub selections\n    /*\n      return console.warn(`\n        The selected elements can\\'t be efficiently mapped.\n        Its probably best to use multiple single selectors instead!\n      `, elements)\n    */\n  }\n\n  if (globalModified) {\n    delete global.document\n  }\n\n  return selector\n}\n\n/**\n * Get selectors to describe a set of elements\n *\n * @param  {Array.<HTMLElements>} elements - [description]\n * @return {string}                        - [description]\n */\nfunction getCommonSelectors (elements) {\n\n  const { classes, attributes, tag } = getCommonProperties(elements)\n\n  const selectorPath = []\n\n  if (tag) {\n    selectorPath.push(tag)\n  }\n\n  if (classes) {\n    const classSelector = classes.map((name) => `.${name}`).join('')\n    selectorPath.push(classSelector)\n  }\n\n  if (attributes) {\n    const attributeSelector = Object.keys(attributes).reduce((parts, name) => {\n      parts.push(`[${name}=\"${cssEscape(attributes[name])}\"]`)\n      return parts\n    }, []).join('')\n    selectorPath.push(attributeSelector)\n  }\n\n  if (selectorPath.length) {\n    // TODO: check for parent-child relation\n  }\n\n  return [\n    selectorPath.join('')\n  ]\n}\n\n/**\n * Choose action depending on the input (multiple/single)\n *\n * NOTE: extended detection is used for special cases like the <select> element with <options>\n *\n * @param  {HTMLElement|NodeList|Array.<HTMLElement>} input   - [description]\n * @param  {Object}                                   options - [description]\n * @return {string}                                           - [description]\n */\nexport default function getQuerySelector (input, options = {}) {\n  if (input.length && !input.name) {\n    return getMultiSelector(input, options)\n  }\n  return getSingleSelector(input, options)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/select.js","/*! https://mths.be/cssescape v1.5.1 by @mathias | MIT license */\n;(function(root, factory) {\n\t// https://github.com/umdjs/umd/blob/master/returnExports.js\n\tif (typeof exports == 'object') {\n\t\t// For Node.js.\n\t\tmodule.exports = factory(root);\n\t} else if (typeof define == 'function' && define.amd) {\n\t\t// For AMD. Register as an anonymous module.\n\t\tdefine([], factory.bind(root, root));\n\t} else {\n\t\t// For browser globals (not exposing the function separately).\n\t\tfactory(root);\n\t}\n}(typeof global != 'undefined' ? global : this, function(root) {\n\n\tif (root.CSS && root.CSS.escape) {\n\t\treturn root.CSS.escape;\n\t}\n\n\t// https://drafts.csswg.org/cssom/#serialize-an-identifier\n\tvar cssEscape = function(value) {\n\t\tif (arguments.length == 0) {\n\t\t\tthrow new TypeError('`CSS.escape` requires an argument.');\n\t\t}\n\t\tvar string = String(value);\n\t\tvar length = string.length;\n\t\tvar index = -1;\n\t\tvar codeUnit;\n\t\tvar result = '';\n\t\tvar firstCodeUnit = string.charCodeAt(0);\n\t\twhile (++index < length) {\n\t\t\tcodeUnit = string.charCodeAt(index);\n\t\t\t// Note: there’s no need to special-case astral symbols, surrogate\n\t\t\t// pairs, or lone surrogates.\n\n\t\t\t// If the character is NULL (U+0000), then the REPLACEMENT CHARACTER\n\t\t\t// (U+FFFD).\n\t\t\tif (codeUnit == 0x0000) {\n\t\t\t\tresult += '\\uFFFD';\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\t// If the character is in the range [\\1-\\1F] (U+0001 to U+001F) or is\n\t\t\t\t// U+007F, […]\n\t\t\t\t(codeUnit >= 0x0001 && codeUnit <= 0x001F) || codeUnit == 0x007F ||\n\t\t\t\t// If the character is the first character and is in the range [0-9]\n\t\t\t\t// (U+0030 to U+0039), […]\n\t\t\t\t(index == 0 && codeUnit >= 0x0030 && codeUnit <= 0x0039) ||\n\t\t\t\t// If the character is the second character and is in the range [0-9]\n\t\t\t\t// (U+0030 to U+0039) and the first character is a `-` (U+002D), […]\n\t\t\t\t(\n\t\t\t\t\tindex == 1 &&\n\t\t\t\t\tcodeUnit >= 0x0030 && codeUnit <= 0x0039 &&\n\t\t\t\t\tfirstCodeUnit == 0x002D\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\t// https://drafts.csswg.org/cssom/#escape-a-character-as-code-point\n\t\t\t\tresult += '\\\\' + codeUnit.toString(16) + ' ';\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\t// If the character is the first character and is a `-` (U+002D), and\n\t\t\t\t// there is no second character, […]\n\t\t\t\tindex == 0 &&\n\t\t\t\tlength == 1 &&\n\t\t\t\tcodeUnit == 0x002D\n\t\t\t) {\n\t\t\t\tresult += '\\\\' + string.charAt(index);\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// If the character is not handled by one of the above rules and is\n\t\t\t// greater than or equal to U+0080, is `-` (U+002D) or `_` (U+005F), or\n\t\t\t// is in one of the ranges [0-9] (U+0030 to U+0039), [A-Z] (U+0041 to\n\t\t\t// U+005A), or [a-z] (U+0061 to U+007A), […]\n\t\t\tif (\n\t\t\t\tcodeUnit >= 0x0080 ||\n\t\t\t\tcodeUnit == 0x002D ||\n\t\t\t\tcodeUnit == 0x005F ||\n\t\t\t\tcodeUnit >= 0x0030 && codeUnit <= 0x0039 ||\n\t\t\t\tcodeUnit >= 0x0041 && codeUnit <= 0x005A ||\n\t\t\t\tcodeUnit >= 0x0061 && codeUnit <= 0x007A\n\t\t\t) {\n\t\t\t\t// the character itself\n\t\t\t\tresult += string.charAt(index);\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Otherwise, the escaped character.\n\t\t\t// https://drafts.csswg.org/cssom/#escape-a-character\n\t\t\tresult += '\\\\' + string.charAt(index);\n\n\t\t}\n\t\treturn result;\n\t};\n\n\tif (!root.CSS) {\n\t\troot.CSS = {};\n\t}\n\n\troot.CSS.escape = cssEscape;\n\treturn cssEscape;\n\n}));\n\n\n\n// WEBPACK FOOTER //\n// ./~/css.escape/css.escape.js","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n// WEBPACK FOOTER //\n// (webpack)/buildin/global.js","export select, { getSingleSelector, getMultiSelector } from './select'\nexport optimize from './optimize'\nexport * as common from './common'\n\nexport default from './select'\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","/**\n * # Match\n *\n * Retrieve selector for a node.\n */\n\nimport { escapeValue } from './utilities'\n\nconst defaultIgnore = {\n  attribute (attributeName) {\n    return [\n      'style',\n      'data-reactid',\n      'data-react-checksum'\n    ].indexOf(attributeName) > -1\n  }\n}\n\n/**\n * Get the path of the element\n *\n * @param  {HTMLElement} node    - [description]\n * @param  {Object}      options - [description]\n * @return {string}              - [description]\n */\nexport default function match (node, options) {\n\n  const {\n    root = document,\n    skip = null,\n    priority = ['id', 'class', 'href', 'src'],\n    ignore = {}\n  } = options\n\n  const path = []\n  var element = node\n  var length = path.length\n  var ignoreClass = false\n\n  const skipCompare = skip && (Array.isArray(skip) ? skip : [skip]).map((entry) => {\n    if (typeof entry !== 'function') {\n      return (element) => element === entry\n    }\n    return entry\n  })\n\n  const skipChecks = (element) => {\n    return skip && skipCompare.some((compare) => compare(element))\n  }\n\n  Object.keys(ignore).forEach((type) => {\n    if (type === 'class') {\n      ignoreClass = true\n    }\n    var predicate = ignore[type]\n    if (typeof predicate === 'function') return\n    if (typeof predicate === 'number') {\n      predicate = predicate.toString()\n    }\n    if (typeof predicate === 'string') {\n      predicate = new RegExp(escapeValue(predicate).replace(/\\\\/g, '\\\\\\\\'))\n    }\n    if (typeof predicate === 'boolean') {\n      predicate = predicate ? /(?:)/ : /.^/\n    }\n    // check class-/attributename for regex\n    ignore[type] = (name, value) => predicate.test(value)\n  })\n\n  if (ignoreClass) {\n    const ignoreAttribute = ignore.attribute\n    ignore.attribute = (name, value, defaultPredicate) => {\n      return ignore.class(value) || ignoreAttribute && ignoreAttribute(name, value, defaultPredicate)\n    }\n  }\n\n  while (element !== root) {\n    if (skipChecks(element) !== true) {\n      // ~ global\n      if (checkAttributes(priority, element, ignore, path, root)) break\n      if (checkTag(element, ignore, path, root)) break\n\n      // ~ local\n      checkAttributes(priority, element, ignore, path)\n      if (path.length === length) {\n        checkTag(element, ignore, path)\n      }\n\n      // define only one part each iteration\n      if (path.length === length) {\n        checkChilds(priority, element, ignore, path)\n      }\n    }\n\n    element = element.parentNode\n    length = path.length\n  }\n\n  if (element === root) {\n    const pattern = findPattern(priority, element, ignore)\n    path.unshift(pattern)\n  }\n\n  return path.join(' ')\n}\n\n/**\n * Extend path with attribute identifier\n *\n * @param  {Array.<string>} priority - [description]\n * @param  {HTMLElement}    element  - [description]\n * @param  {Object}         ignore   - [description]\n * @param  {Array.<string>} path     - [description]\n * @param  {HTMLElement}    parent   - [description]\n * @return {boolean}                 - [description]\n */\nfunction checkAttributes (priority, element, ignore, path, parent = element.parentNode) {\n  const pattern = findAttributesPattern(priority, element, ignore)\n  if (pattern) {\n    const matches = parent.querySelectorAll(pattern)\n    if (matches.length === 1) {\n      path.unshift(pattern)\n      return true\n    }\n  }\n  return false\n}\n\n/**\n * Lookup attribute identifier\n *\n * @param  {Array.<string>} priority - [description]\n * @param  {HTMLElement}    element  - [description]\n * @param  {Object}         ignore   - [description]\n * @return {string?}                 - [description]\n */\nfunction findAttributesPattern (priority, element, ignore) {\n  const attributes = element.attributes\n  var keys = [];\n  for(var i = 0; i < attributes.length; i++) {\n    // skip null attributes in IE 11\n    if (attributes[i]) {\n      keys.push(i);\n    }\n  }\n  const sortedKeys = Object.keys(attributes).sort((curr, next) => {\n    const currPos = priority.indexOf(attributes[curr].name)\n    const nextPos = priority.indexOf(attributes[next].name)\n    if (currPos === -1 || nextPos === -1) {\n      return nextPos - currPos;\n    }\n    return currPos - nextPos\n  })\n\n  for (var i = 0, l = sortedKeys.length; i < l; i++) {\n    const key = sortedKeys[i]\n    const attribute = attributes[key]\n    const attributeName = attribute.name\n    const attributeValue = escapeValue(attribute.value)\n\n    const currentIgnore = ignore[attributeName] || ignore.attribute\n    const currentDefaultIgnore = defaultIgnore[attributeName] || defaultIgnore.attribute\n    if (checkIgnore(currentIgnore, attributeName, attributeValue, currentDefaultIgnore)) {\n      continue\n    }\n\n    var pattern = `[${attributeName}=\"${attributeValue}\"]`\n\n    if ((/\\b\\d/).test(attributeValue) === false) {\n      if (attributeName === 'id') {\n        pattern = `#${attributeValue}`\n      }\n\n      if (attributeName === 'class') {\n        var classNames = attributeValue.split(' ');\n        classNames = classNames.filter(function (className) {\n          return !checkIgnore(currentIgnore, attributeName, className, currentDefaultIgnore);\n        });\n        var className = classNames.join('.');\n        pattern = className ? `.${className}` : '';\n      }\n    }\n\n    return pattern\n  }\n  return null\n}\n\n/**\n * Extend path with tag identifier\n *\n * @param  {HTMLElement}    element - [description]\n * @param  {Object}         ignore  - [description]\n * @param  {Array.<string>} path    - [description]\n * @param  {HTMLElement}    parent  - [description]\n * @return {boolean}                - [description]\n */\nfunction checkTag (element, ignore, path, parent = element.parentNode) {\n  const pattern = findTagPattern(element, ignore)\n  if (pattern) {\n    const matches = parent.getElementsByTagName(pattern)\n    if (matches.length === 1) {\n      path.unshift(pattern)\n      return true\n    }\n  }\n  return false\n}\n\n/**\n * Lookup tag identifier\n *\n * @param  {HTMLElement} element - [description]\n * @param  {Object}      ignore  - [description]\n * @return {boolean}             - [description]\n */\nfunction findTagPattern (element, ignore) {\n  const tagName = element.tagName.toLowerCase()\n  if (checkIgnore(ignore.tag, null, tagName)) {\n    return null\n  }\n  return tagName\n}\n\n/**\n * Extend path with specific child identifier\n *\n * NOTE: 'childTags' is a custom property to use as a view filter for tags using 'adapter.js'\n *\n * @param  {Array.<string>} priority - [description]\n * @param  {HTMLElement}    element  - [description]\n * @param  {Object}         ignore   - [description]\n * @param  {Array.<string>} path     - [description]\n * @return {boolean}                 - [description]\n */\nfunction checkChilds (priority, element, ignore, path) {\n  const parent = element.parentNode\n  const children = parent.childTags || parent.children\n  for (var i = 0, l = children.length; i < l; i++) {\n    const child = children[i]\n    if (child === element) {\n      const childPattern = findPattern(priority, child, ignore)\n      if (!childPattern) {\n        return console.warn(`\n          Element couldn\\'t be matched through strict ignore pattern!\n        `, child, ignore, childPattern)\n      }\n      const pattern = `> ${childPattern}:nth-child(${i+1})`\n      path.unshift(pattern)\n      return true\n    }\n  }\n  return false\n}\n\n/**\n * Lookup identifier\n *\n * @param  {Array.<string>} priority - [description]\n * @param  {HTMLElement}    element  - [description]\n * @param  {Object}         ignore   - [description]\n * @return {string}                  - [description]\n */\nfunction findPattern (priority, element, ignore) {\n  var pattern = findAttributesPattern(priority, element, ignore)\n  if (!pattern) {\n    pattern = findTagPattern(element, ignore)\n  }\n  return pattern\n}\n\n/**\n * Validate with custom and default functions\n *\n * @param  {Function} predicate        - [description]\n * @param  {string?}  name             - [description]\n * @param  {string}   value            - [description]\n * @param  {Function} defaultPredicate - [description]\n * @return {boolean}                   - [description]\n */\nfunction checkIgnore (predicate, name, value, defaultPredicate) {\n  if (!value) {\n    return true\n  }\n  const check = predicate || defaultPredicate\n  if (!check) {\n    return false\n  }\n  return check(name, value, defaultPredicate)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/match.js"],"sourceRoot":""}